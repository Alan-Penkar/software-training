<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Git Training - Week 3</title>
<meta name="author" content="(Jay Kamat, Josh Ting)"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="https://robojackets.github.io/reveal.js/css/reveal.css"/>

<link rel="stylesheet" href="https://robojackets.github.io/reveal.js/css/theme/white.css" id="theme"/>


<!-- If the query includes 'print-pdf', include the PDF print sheet -->
<script>
    if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = 'https://robojackets.github.io/reveal.js/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
</script>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide"><h1 class="title">Git Training - Week 3</h1>
</section>

<section id="slide-org3ee6fbc">
<h2 id="org3ee6fbc">What You Know</h2>
<aside class="notes">
<p>
Call on students to explain each
</p>

</aside>
<ul>
<li><code>git status</code></li>
<li><code>git add</code></li>
<li><code>git commit</code></li>
<li><code>git remote</code></li>
<li><code>git pull</code></li>
<li><code>git push</code></li>
<li><i>(any questions?)</i></li>

</ul>

</section>
<section id="slide-orgbdf4d7a">
<h2 id="orgbdf4d7a">Some Problems</h2>
<ul>
<li>Multiple developers work on the same code, at the same time</li>
<li>We want to maintain multiple versions of the same software in parallel
<ul>
<li>How do I apply a security fix to an old version?</li>

</ul></li>
<li>You want a safe place to test out changes, without affecting anyone else</li>
<li>Branching is <code>git</code>'s solution</li>

</ul>

</section>
<section id="slide-orgbc784c4">
<h2 id="orgbc784c4">Branches</h2>
<ul>
<li>Branches are local copies of state</li>
<li>If you do work on a branch, it won't affect any other branches</li>
<li>Later on, we can 'merge' branches together (so work done on either can be combined).</li>
<li>Branches are what people have the most trouble with
<ul>
<li><span class="underline"><b>Ask questions <i>please</i>!</b></span> This is a difficult topic.</li>

</ul></li>

</ul>

</section>
<section id="slide-org4038619">
<h3 id="org4038619">Remotes vs Branches vs Forks</h3>
<ul>
<li>A fork or clone does a full copy of the git repo</li>
<li>A remote is a pointer to another copy of this git repo</li>
<li>A repository can contain a collection of <b>branches</b></li>
<li>Each branch is an independent copy of the code</li>
<li>You can only directly modify local branches, but:
<ul>
<li>You can merge from a remote into your branch (pull)</li>
<li>You can merge from your branch to a remote (push)</li>

</ul></li>

</ul>

</section>
<section id="slide-orge282064">
<h3 id="orge282064">Git as a Graph</h3>
<ul>
<li>Git history is a <b>graph</b></li>
<li>A graph is simply a collection of nodes connected by edges</li>
<li>Each commit is a node on the graph</li>
<li>Subsequent commits are linked by edges</li>

</ul>

</section>
<section id="slide-orgd16e641">
<h3 id="orgd16e641">Git as a Graph cont.</h3>
<aside class="notes">
<p>
These tools are not installed by default.
</p>

</aside>
<ul>
<li>Some useful tools to visualize your repo's git history as a graph:
<ul>
<li><code>gitk</code></li>
<li><code>git</code> integrations for your favorite editor!</li>

</ul></li>

</ul>

</section>
<section id="slide-org4ae3792">
<h3 id="org4ae3792">Creating Branches</h3>
<ul>
<li>Let's start by creating multiple branches</li>
<li><p>
Create branches with
</p>
<div class="org-src-container">

<pre  class="src src-sh"><span style="color: #5e6263;"># </span><span style="color: #5e6263;">git branch &lt;BRANCH_NAME&gt;</span>

<span style="color: #5e6263;"># </span><span style="color: #5e6263;">Create two branches, starting from the current commit</span>

<span style="color: #598249;">git</span> branch stableRj
<span style="color: #598249;">git</span> branch betaRj
</pre>
</div></li>

</ul>

</section>
<section id="slide-orga3f7332">
<h3 id="orga3f7332">Switching Branches</h3>
<ul>
<li>Only one branch can be worked on at a time</li>
<li><code>git status</code> will display info on your current branch</li>
<li><code>git checkout</code> lets you switch between branches</li>
<li><p>
Let's checkout the <code>stableRj</code> branch now
</p>
<div class="org-src-container">

<pre  class="src src-sh"><span style="color: #598249;">git</span> status
<span style="color: #5e6263;">#</span><span style="color: #5e6263;">&gt; On branch master</span>
<span style="color: #5e6263;">#</span><span style="color: #5e6263;">&gt; nothing to commit, working tree clean</span>

<span style="color: #5e6263;"># </span><span style="color: #5e6263;">git checkout &lt;BRANCH_NAME&gt;</span>

<span style="color: #598249;">git</span> checkout stableRj
<span style="color: #5e6263;">#</span><span style="color: #5e6263;">&gt; Switched to branch 'stableRj'</span>

<span style="color: #598249;">git</span> status
<span style="color: #5e6263;">#</span><span style="color: #5e6263;">&gt; On branch stableRj</span>
<span style="color: #5e6263;">#</span><span style="color: #5e6263;">&gt; nothing to commit, working tree clean</span>
</pre>
</div></li>

</ul>

</section>
<section id="slide-org19eb1fc">
<h3 id="org19eb1fc">First stableRj Commit</h3>
<aside class="notes">
<p>
Do something visual, e.x., draw on whiteboard, gitk
</p>

</aside>
<ul>
<li><p>
Let's add a commit to the <code>stableRj</code> branch
</p>
<div class="org-src-container">

<pre  class="src src-sh"><span style="color: #598249;">echo</span> <span style="color: #15968D;">"Stability counts!"</span> &gt; stable_release.txt
<span style="color: #598249;">git</span> status
<span style="color: #598249;">git</span> add -A
<span style="color: #598249;">git</span> status
<span style="color: #598249;">git</span> commit -m <span style="color: #15968D;">"Add stable_release.txt"</span>
<span style="color: #598249;">git</span> status
</pre>
</div></li>
<li>This will <b>not affect</b> any other branches</li>
<li>The other branches will stay behind on 'initial commit'</li>

</ul>

</section>
<section id="slide-orgf7360b8">
<h3 id="orgf7360b8">First betaRj Commit</h3>
<ul>
<li><p>
Let's make an experimental commit on the <code>betaRj</code> branch
</p>
<div class="org-src-container">

<pre  class="src src-sh"><span style="color: #598249;">git</span> checkout betaRj
<span style="color: #598249;">echo</span> <span style="color: #15968D;">"This feature is unstable!"</span> &gt; beta_release.txt
<span style="color: #598249;">git</span> add -A
<span style="color: #598249;">git</span> commit -m <span style="color: #15968D;">"Add beta_release.txt"</span>
</pre>
</div></li>
<li>Since the <code>stableRj</code> branch was <b>behind</b> the <code>betaRj</code> branch, the commit history has diverged</li>
<li><p>
Play around and checkout the various branches!
</p>
<div class="org-src-container">

<pre  class="src src-shell"><span style="color: #598249;">git</span> checkout &lt;BRANCH&gt;
<span style="color: #598249;">ls</span>
</pre>
</div></li>
<li>Notice, master has not moved at all (since no commits have been made on it)</li>

</ul>

</section>
<section id="slide-orgaa8af97">
<h3 id="orgaa8af97">Let's Merge the Branches</h3>
<aside class="notes">
<p>
Do something visual at end to show other branches are unchanged. When the students use vi, let them know i to insert, wq to save+quit
</p>

</aside>
<ul>
<li>Let's bring the hard work from the <code>betaRj</code> branch onto the <code>stableRj</code> branch</li>
<li>Right now, the <code>stableRj</code> and the <code>betaRj</code> branch have 'diverged'</li>
<li><p>
We need to bring them back together, this is called a <b>merge</b>
</p>
<div class="org-src-container">

<pre  class="src src-sh"><span style="color: #5e6263;"># </span><span style="color: #5e6263;">Checkout to the branch we want to merge **into** aka the "base branch"</span>
<span style="color: #598249;">git</span> checkout stableRj
<span style="color: #5e6263;"># </span><span style="color: #5e6263;">Merge the branch we want (betaRj) into the current branch (stableRj)</span>
<span style="color: #598249;">git</span> merge betaRj
<span style="color: #5e6263;"># </span><span style="color: #5e6263;">This will launch an editor, save and quit it to complete</span>
</pre>
</div></li>
<li>This does not change any other branch</li>

</ul>

</section>
<section id="slide-org4383dad">
<h2 id="org4383dad">Pull requests</h2>
<ul>
<li><p>
A pull request (PR) is a request for a project owner to merge a branch from your fork into their repository
</p>
<div class="org-src-container">

<pre  class="src src-fundamental">        push         PR
laptop -----&gt; fork -----&gt; upstream
  ^            |             |
  |            v             v
  |---------------------------
           pull
</pre>
</div></li>
<li>Request an owner to merge <b>from a branch on your fork</b></li>

</ul>

</section>
<section id="slide-org97500c1">
<h3 id="org97500c1">How to make a pull request</h3>
<ul>
<li><p>
Push code locally stored on your computer to your fork on GitHub
</p>
<div class="org-src-container">

<pre  class="src src-shell"><span style="color: #598249;">git</span> push origin stableRj
</pre>
</div></li>
<li>Locate your fork on GitHub and click "New pull request"</li>

</ul>

<div class="figure">
<p><img src="https://i.imgur.com/8xwEajp.jpg" alt="8xwEajp.jpg" />
</p>
</div>

</section>
<section id="slide-org4106624">
<h3 id="org4106624">How to make a pull request (continued)</h3>
<ul>
<li>Ensure that both repos and branches are correct</li>
<li>Click "Create pull request"</li>

</ul>

<div class="figure">
<p><img src="https://i.imgur.com/gxUa2Zx.jpg" alt="gxUa2Zx.jpg" width="80%" />
</p>
</div>

</section>
<section id="slide-orga42e80f">
<h2 id="orga42e80f">Overall Contribution Flow</h2>
<aside class="notes">
<p>
"Pull request procedure may differ for your specific team"
</p>

</aside>
<div class="org-src-container">

<pre  class="src src-shell"><span style="color: #5e6263;"># </span><span style="color: #5e6263;">start on master</span>
<span style="color: #598249;">git</span> checkout master

<span style="color: #5e6263;"># </span><span style="color: #5e6263;">Ensure we branch off from a recent version</span>
<span style="color: #598249;">git</span> pull rj master

<span style="color: #5e6263;"># </span><span style="color: #5e6263;">create a new branch</span>
<span style="color: #598249;">git</span> branch my-new-feature
<span style="color: #598249;">git</span> checkout my-new-feature

<span style="color: #5e6263;"># </span><span style="color: #5e6263;">Add commits with your work</span>
<span style="color: #598249;">git</span> commit -m <span style="color: #15968D;">"Fix all of RoboJackets"</span>

<span style="color: #5e6263;"># </span><span style="color: #5e6263;">push to a seperate branch on your fork</span>
<span style="color: #598249;">git</span> push origin my-new-feature

<span style="color: #5e6263;"># </span><span style="color: #5e6263;">Go to github, and click 'new pull request'</span>

<span style="color: #5e6263;"># </span><span style="color: #5e6263;">add updates by</span>
<span style="color: #598249;">git</span> commit -m <span style="color: #15968D;">"Add missing files"</span>
<span style="color: #598249;">git</span> push origin my-new-feature
</pre>
</div>
</section>
</section>
</div>
</div>
<script src="https://robojackets.github.io/reveal.js/lib/js/head.min.js"></script>
<script src="https://robojackets.github.io/reveal.js/js/reveal.js"></script>

<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({

controls: false,
progress: true,
history: false,
center: true,
slideNumber: 'c',
rollingLinks: false,
keyboard: true,
overview: true,
width: 1440,
height: 800,
margin: 0.15,

theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/fade/none
transitionSpeed: 'fast',
multiplex: {
    secret: '', // null if client
    id: '', // id, obtained from socket.io server
    url: '' // Location of socket.io server
},

// Optional libraries used to extend on reveal.js
dependencies: [
 { src: 'https://robojackets.github.io/reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
]
});
</script>
</body>
</html>
